<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.5.12 (464966)"/><meta name="author" content="Ἅιδης"/><meta name="created" content="2021-03-09 12:59:34 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2021-03-09 13:38:42 +0000"/><title>6.3 cart分类树和cart回归树</title></head><body><div>文章链接：</div><div><br/></div><div><a href="https://www.jianshu.com/p/b90a9ce05b28">https://www.jianshu.com/p/b90a9ce05b28</a></div><div><br/></div><div><br/></div><div>Cart分类树的损失函数<span style="color: unset; font-family: unset; font-size: unset;">为</span></div><div><br/></div><div><br/></div><div><img src="6.3%20cart%E5%88%86%E7%B1%BB%E6%A0%91%E5%92%8Ccart%E5%9B%9E%E5%BD%92%E6%A0%91.resources/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-10%2000.03.16.png" height="64" width="238"/></div><div><br/></div><div><span style="caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;">其中 CT 为误差（例如基尼指数），|T| 为 T 的叶节点个数，alpha 为非负参数，用来权衡训练数据的拟合程度和模型的复杂度。</span></div><div><br/></div><div><br/></div><div><span style="caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;">alpha 固定时，一定可以找到一个子树 T，使得等式右边达到最小，那么这个 T 就叫做最优子树。</span></div><div><span style="caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div style="box-sizing: border-box; word-break: break-word; caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; word-break: break-word; caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;-en-paragraph:true;">对固定的 alpha 找到损失函数最小的子树 T，二者之间有这样的关系：alpha 大时，T 偏小，alpha 小时，T 偏大。</span></div><div><span style="font-weight: bold; box-sizing: border-box; caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">那如果将 alpha 从小增大设置为一个序列</span><span style="caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;">，T 就可以从大到小得到相应的最优子树序列，并且还是嵌套的关系。</span></div><div><span style="caret-color: rgb(64, 64, 64); color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;letter-spacing:normal;white-space:normal;word-spacing:0px;"><span style="font-weight: bold;"><font style="font-size: 18px;">剪的时候，哪个树杈是可以被剪掉的呢？</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;color:rgb(0, 0, 0);font-variant-caps:normal;letter-spacing:normal;white-space:normal;word-spacing:0px;"><span style="-en-paragraph:true;"><font style="font-size: 18px;">很容易想到的是，如果剪掉后和没剪时的损失函数一样或者差别不大的话，那当然是剪掉好了，只留下一个点，就能代表一个树杈，这样树就被简化了。
</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;color:rgb(0, 0, 0);font-variant-caps:normal;letter-spacing:normal;white-space:normal;word-spacing:0px;"><span style="-en-paragraph:true;"><font style="font-size: 18px;">以节点 t 为单节点树时，它的损失函数为：（后面剪枝后就可以用一个点来代替一个树杈）
</font></span></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;letter-spacing:normal;white-space:normal;word-spacing:0px;"><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;letter-spacing:normal;white-space:normal;word-spacing:0px;"><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;letter-spacing:normal;white-space:normal;word-spacing:0px;"><img src="6.3%20cart%E5%88%86%E7%B1%BB%E6%A0%91%E5%92%8Ccart%E5%9B%9E%E5%BD%92%E6%A0%91.resources/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-10%2000.37.45.png" height="44" width="203"/><img src="6.3%20cart%E5%88%86%E7%B1%BB%E6%A0%91%E5%92%8Ccart%E5%9B%9E%E5%BD%92%E6%A0%91.resources/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-03-10%2000.38.32.png" height="527" width="657"/><br/></div><div><br/></div></body></html>