<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.5.12 (464966)"/><meta name="author" content="Ἅιδης"/><meta name="created" content="2021-02-23 14:33:09 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2021-02-25 09:50:50 +0000"/><title>2.11 线性回归python语法总结</title></head><body><div><span style="font-size: 18px;">sklearn包中导入linear_model</span></div><div><font style="font-size: 18px;"><br/></font></div><div><span style="font-size: 18px;">numpy genefromtxt导入csv文件，同时选择合适的分隔符delimiter</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">切分数据后</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">选择相应的模型(加上CV代表交叉验证）</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">岭回归 model.RidgeCV</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">Lasso model.LassoCV</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">弹性网 model.ElasticNetCV</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">注意相关参数</span></div><div><br/></div><div><span style="font-size: 18px;">代价函数参数 model.coef_</span></div><div><span style="font-size: 18px;">代价函数截距 model.intercept_</span></div><div><span style="font-size: 18px;">相关系数</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>岭系数 </div><div>                </div><div>Lasso 系数         model.alpha_</div><div><br/></div><div><font face="Monaco">弹性系数</font></div></div><div><br/></div><div><span style="font-size: 18px;">相关系数和loss值的关系</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">交叉验证找最小的那个值：</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">在岭回归中，可以将store_cv_values保存，通过参数model.cv_values查看每次交叉验证的结果</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">求最小的损失值</span><span style="font-size: 18px;">print(min(model.cv_values_.mean(axis = 0)))</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">而弹性网和lasso算法则在sklearn中没有相关的功能</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">重要 np.mat 和 np.array区别，为了不混淆，所有乘积用np.dot(),点乘用</span></span><span style="caret-color: rgb(77, 77, 77); font-size: 16px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-variant-caps: normal; font-weight: bold;">np.multiply()</span></span></div><div><span style="font-size: 18px;"><a href="https://blog.csdn.net/wuzhongqiang/article/details/104211503" style="font-size: 18px; font-weight: bold;">https://blog.csdn.net/wuzhongqiang/article/details/104211503</a></span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">Np.ones(())里面是元组注意</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;"> rxTx = xTx + np.eye(xMat.shape[1]) * lam#生成单位矩阵</span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px;">Mat.I 是逆矩阵 Mat.T是转</span><span style="font-size: 18px; color: unset; font-family: unset;">置矩阵 </span></div><div><span style="font-size: 18px;"><br/></span></div><div><span style="font-size: 18px; font-weight: bold;">np.linalg.det(mat)代表行列阵，</span><span style="caret-color: rgb(51, 51, 51); font-size: 14px; letter-spacing: normal; text-indent: 28px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-weight: bold; color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-variant-caps: normal;">一个n×n矩阵的行列式等于其任意行(或列)的元素与对应的代数余子式乘积之和</span></div><div><span style="caret-color: rgb(51, 51, 51); font-size: 14px; text-indent: 28px;"><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-weight: bold;"> 若A有一行或一列包含的元素全为零，则det(A)=0</span></span></div><div><span style="caret-color: rgb(51, 51, 51); font-size: 14px; letter-spacing: normal; text-indent: 28px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-caps: normal; font-weight: bold;">若A有两行或两列相等，则det(A)=0。</span></span></div><div><span style="caret-color: rgb(51, 51, 51); font-size: 14px; letter-spacing: normal; text-indent: 28px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="caret-color: rgb(51, 51, 51); font-size: 14px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-variant-caps: normal;">N阶方阵A为可逆的,重要条件是它的行列式不等于0,一般只要看它的行列式就可以啦。 矩阵可逆=矩阵非奇异=矩阵对应的行列式不为0=满秩=行列向量线性无关。 行列式不为0,首先这个条件显然是必要的。其次当行列式不为0的时候,可以直接构造出逆矩阵,于是充分。 </span></div><div><span style="caret-color: rgb(51, 51, 51); font-size: 14px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-variant-caps: normal;"><br/></span></div><div><span style="color: rgb(51, 51, 51); font-family: Arial;"><img src="2.11%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92python%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93.resources/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202021-02-25%2020.50.25.png" height="622" width="1434"/></span></div><div><span style="caret-color: rgb(51, 51, 51); font-size: 14px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-variant-caps: normal;"><br/></span></div></body></html>